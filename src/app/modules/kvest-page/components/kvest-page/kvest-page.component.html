<header class="page-header">
  <h2 class="heading">
    {{ page() === null ? '404' : page()?.commonData?.name }}
  </h2>
  <button mat-icon-button class="menu-btn" [matMenuTriggerFor]="headerMenu">
    <svg class="icon"><use href="assets/icons/more_vert.svg#icon" /></svg>
  </button>
  <mat-menu #headerMenu="matMenu" class="compact-menu">
    <a mat-menu-item [routerLink]="['/k']">Страница квестов</a>
  </mat-menu>
</header>

@if (page()) {
  <div class="page-container">
    <h1 class="heading">{{ page()?.title }}</h1>
    @if (page()?.image) {
      <div class="image-container">
        <img class="image" alt="image" [src]="page()?.image" />
      </div>
    }
    <div class="description-container">
      <p class="description">{{ page()?.description }}</p>
      @if (page()?.canSkip) {
        <button mat-icon-button class="menu-btn" [matMenuTriggerFor]="pageMenu">
          <svg class="icon"><use href="assets/icons/more_vert.svg#icon" /></svg>
        </button>
        <mat-menu #pageMenu="matMenu" class="compact-menu">
          <button mat-menu-item (click)="skip()">Пропустить</button>
        </mat-menu>
      }
    </div>

    <div class="buttons-block">
      @if (page()?.last) {
        <a mat-flat-button [routerLink]="['/k']">Страница квестов</a>
      } @else {
        <button mat-flat-button (click)="skip()">Далее</button>
      }
    </div>
  </div>
}
